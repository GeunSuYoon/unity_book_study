# C\# 스크립트 기본기 다루기

---

## 목차

[[#1. 왜 스크립트를 써야 하는가]]

[[#2. 자료형]]

[[#3. 연산자]]

[[#4. 조건문]]

[[#5. 반복문]]

[[#6. 유니티에서 테스트하기]]

[[#7. 컴포넌트]]

[[#8. 게임 오브젝트 움직여 보기]]

---

## 1. 왜 스크립트를 써야 하는가

>Chapter2에서 진행한 공굴리기의 경우, 게임 실행 중 공은 그저 중력의 영향으로 움직일 뿐, 플레이어의 개입은 없다.
>플레이어의 움직임(키보드 조작, 마우스 조작, 화면 터치 등)에 반응하도록, 혹은 여러 상황을 조정하기 위해선 스크립트가 필요하다!

- 유니티의 스크립트는 C\#, 자바스크립트로 작성된 코드로 이루어져 있다.
	- 이는 비교적 최근 만들어졌고, 한 번 익히면 응용하기 쉬운 언어를 이용해 더 섬세한 조정이 가능해지기 때문이다!

---

## 2. 자료형(Data Type)

>설명

### 1. 기본 자료형

| 자료형    | 저장 가능한 값의 범위                                      | 예                         |
| ------ | ------------------------------------------------- | ------------------------- |
| int    | 정수(-2<sup>32</sup> ~ 2<sup>32</sup> - 1)          | int a = 5;                |
| long   | 정수(-2<sup>64</sup> ~ 2<sup>64</sup> - 1)          | long b = 100000000000000; |
| float  | 소수(3.4<sup>-37</sup> ~ 3.4<sup>38</sup>; 6 자리)    | float c = 3.14f;          |
| double | 소수(1.7<sup>-307</sup> ~ 1.7<sup>308</sup>; 14 자리) | double d = 1.111123d;     |
| string | 문자열                                               | string e = "Hello World"; |
| bool   | 논리(참;ture 혹은 거짓;false)                            | bool t = true;            |

- 다른 자료형도 더 있지만 자주 쓰이지는 않는다.

### 2. 변수의 선언(생성)

`자료형 변수이름;`
`ex)`
`int a;`
`string name;`

- 자료형을 쓴 뒤 한 칸을 띄고 이름을 쓴다.
	- 이름은 몇 가지 금지사항이 있다.
		- 중간에 띄어쓰기가 들어가면 안 된다.
		- 첫 글자에 숫자가 오면 안 된다.
		- '\_'를 제외한 특수문자는 쓸 수 없다.
		- C\#에서 사용 중인 키워드는 쓸 수 없다.
		- 이미 사용하는 변수 명을 중복해서 쓸 수 없다.
- 마지막에 세미콜론(;)을 넣어 선언이 끝났다는 것을 표시한다. 

`자료형 변수이름 = 값;`
`ex)`
`int a = 10;`
`string name = "Yoon Geun Su";`

- 선언과 동시에 값을 넣어줄 수도 있다.
- 값은 2-1 기본 자료형에 있는 표를 따라야 한다.
	- 만일 값이 범위를 넘어서면(초과, 미만) 오버플로우가 발생해 의도치 않은 동작을 할 것이다!

`int a;`
`a = 10;`
`a = 100;`

- 선언 후 값을 넣어줄 수 있다.
	- 여러 번 넣어주면 가장 마지막에 넣은 값이 할당된다.

---

## 3. 연산자

>연산에 필요한 도구이다.
>쉽게 생각하면 변수 간의 계산 수행을 위해 존재하지만, 더 많은 역할을 할 수 있다.

### 1. 사칙연산

| 기호  | 의미             | 예                                                            |
| --- | -------------- | ------------------------------------------------------------ |
| +   | 변수 또는 상수 간 덧셈  | int a = 10;<br>int b = 5;<br>int c = a + b;<br>//c는 15가 된다.  |
| -   | 변수 또는 상수 간 뺄셈  | int a = 10;<br>int b = 5;<br>int c = a - b;<br>//c는 5가 된다.   |
| \*  | 변수 또는 상수 간 곱셈  | int a = 10;<br>int b = 5;<br>int c = a \* b;<br>//c는 50이 된다. |
| /   | 변수 또는 상수 간 나눗셈 | int a = 10;<br>int b = 5;<br>int c = a / b;<br>//c는 2가 된다.   |

### 2. 대입 연산자자

| 기호  | 의미                    | 예                                                          |
| --- | --------------------- | ---------------------------------------------------------- |
| =   | 우변에 있는 값을 좌변으로 대입(복사) | int a = 10;<br>a = 15;<br>//a는 처음 10의 값을 가졌지만, 이후 15를 가진다. |

### 3. 복합 대입 연산자

| 기호  | 의미               | 예                                                |
| --- | ---------------- | ------------------------------------------------ |
| +=  | 좌변의 값에 우변의 값을 더함 | int a = 10;<br>int b = 5;<br>a += b;<br>//a는 15  |
| -=  | 좌변의 값에 우변의 값을 뺌  | int a = 10;<br>int b = 5;<br>a -= b;<br>//a는 5   |
| \*= | 좌변의 값에 우변의 값을 곱함 | int a = 10;<br>int b = 5;<br>a \*= b;<br>//a는 50 |
| /=  | 좌변의 값에 우변의 값을 나눔 | int a = 10;<br>int b = 5;<br>a /= b;<br>//a는 2   |

### 4. 형변환 연산자

`(자료형)변수명`
`int a = 10;`
`float b;`
`b = a / 3`
`// a가 int형이므로 b는 3이 된다.`
`b = (float)a / 3`
`// a가 float형으로 계산이 진행되므로 b는 3.3333...이 된다.`

- 변수 명의 자료형을 임시로 바꾼다.

---

## 4. 조건문

>설명

---

## 5. 반복문

>설명

### 1. while문

- 설명...

### 2. for문

- 설명...

---

## 6. 유니티에서 테스트하기

- C\# 스크립트를 생성하는 방법은 아래와 같다.
	- Project View 빈 공간을 우클릭한다.
	- \[Create] - \[C\# Script]를 누른다.
- 스크립트 이름은 Chapter2에서 설명한 것처럼 Class명이 된다.
	- 스크립트 이름이나 Class명 중 하나를 바꾸면 반대쪽도 바꿔줘야 한다!
- 스크립트를 더블 클릭 하면 스크립트 에디터에서 스크립트를 편집할 수 있다.
	- 본인의 취향에 맞게 적절히 바꾸자.
	- 그냥 써도 상관 없다.
	- 나는 VScode(Visual Studio code)를 썼다.

![[6_0_1.script_init.png]]

- 최초 생성된 스크립트 내부는 위와 같다.
- public class 뒤 이름이 스크립트 이름과 같은지 확인하자.
	- 다를 경우 맞춰준다.

### 1. 클래스(Class)

- class는 객체이다.
- Script 자체가 하나의 class이다.
- class의 원형은 아래와 같다.
	`class ClassName`
	`{`
		`code...`
	`}`
- 우리가 만든 TestScript에서 class 선언은 아래와 같다.
	`public class TestScript : MonoBehaviour`
- public은 외부에서 접근이 가능하다는 뜻이다.
- MonoBehaviour는 class 이름이다.
	- ':' 뒤에 붙어있다는 것은 ':' 뒤의 class를 앞의 class가 상속 받는다는 것을 의미한다.
	- 우리가 정의한 class가 아닌 유니티 자체에서 정의한 class다!
	- 이 부분을 지우면 자주 사용하는 것들을 사용할 수 없게 된다.

### 2. 함수(Function)

- **C\#에서는 공식적으로 메소드(Method)라 부른다!**
- class가 명사라면 함수는 동사와 같다.
- 함수의 원형은 아래와 같다.
	`DataType FunctionName(parameter...)`
	`{`
		`code...`
	`}`
- 필요한 인자(parameter)를 받아 선언한 자료형으로 반환한다.
- `void Start( )` 함수는 스크립트 실행과 동시에 자동으로 실행한다.
- `void Update( )` 함수는 `Start( )` 함수 실행 후, 매 프레임 실행된다.

### 3. 주석(Comment)

| 기호  | 의미            | 예                 |
| --- | ------------- | ----------------- |
| //  | 해당 한 줄만 주석 처리 | // test comment   |
| /\* | 여러 줄 주석 처리 시작 | /\* comment start |
| \*/ | 여러 줄 주석 처리 끝  | comment end \*/   |

- 스크립트는 주석의 내용을 실행하지 않는다.
	- 스크립트 내에 메모를 할 때 사용하면 편하다!

### 4. Debug.log( )

- c의 printf처럼 console log창에 괄호 안 내용을 출력한다.
- `Debug.log(10)`을 입력하면 console log 창에 10을 출력한다.

### 5. 실제 실행

- TestScprit에서 위에 배운 내용들을 적용해보자.
- `void Start( )` 함수 내부를 아래와 같이 채워준다.

![[6_5_1.start_func.png]]

- 스크립트를 저장하고 유니티 에디터로 돌아간다.
- Hierarchy View 빈 공간을 우클릭해 \[Create Empty]를 선택한다.
	- GameObject라는 게임 오브젝트가 생성된다!
- GameObject의 Inspector View에서 TestScript를 component에 추가한다.
	- \[Add Component]를 눌러 TestScript를 선택한다.
- 테스트 플레이를 누른 후 Console View를 확인한다.

![[6_5_2.test_result.png]]

---

## 7. 컴포넌트

>특정 기능을 가진 구조체

- Hierarchy View에서 선택한 게임 오브젝트의 Inspector View를 보면 여러 요소들이 component이다.
	- Transform, Sprite Renderer 등이 있다.
- 해당 component들은 스크립트 상에서 'Component'라는 class를 상속 받은 것들이다.
- \[Add Component]를 이용해 component를 추가할 수 있다.

- 게임 오브젝트는 component를 묶고 있는 껍데기라고 할 수 있을 만큼 component는 중요하다.
	- 오브젝트가 실제로 동작할 때 component의 값이 조정된다.
	- 예를 들어 Transform의 X, Y, Z 값을 변경하면 실제 오브젝트의 위치가 변경된다!

- 스크립트를 해당 오브젝트에 추가하면 오브젝트의 component를 가져와 값을 변경할 수 있게 된다.
	- `GetComponent<ComponentName>()` 명령어로 ComponentName을 가져올 수 있다.
	- `Transform tr = GetComponent<Transform>();`을 하게 되면 tr은 스크립트가 들어있는 오브젝트의 Transform이 된다.

---

## 8. 게임 오브젝트 움직여 보기

- 오브젝트의 위치 정보가 담긴 component인 Transform을 가져와 조작하면 해당 오브젝트의 위치가 바뀐다.
	- Inspector View에서 일일이 바꿀 수 없으니 스크립트를 이용해 바꿔준다!
### 1. 키보드로 조작하여 게임 오브젝트 움직여 보기

- 

### 2. 마우스로 조작하여 게임 오브젝트 움직여 보기

- 설명...

---
